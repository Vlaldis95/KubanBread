{% extends "base.html" %}
{% load static %}
{% block title %}Каталог{% endblock title %}
{% block css %}<link rel="stylesheet" href="{% static 'pages/simple-adaptive-slider.css' %}">{% endblock css %}
{% block keywords %}кондитерские изделия, оптом, конфеты, печенье, торты{% endblock keywords %}
{% block description %}На кондитерском производстве Кубанская кормилица вы можете приобрести по оптовым ценам
такие изделия, как конфеты, печенье, пряники, сушки, слойки и батончики{% endblock description %}
{% block content %}
<main class="content">
  <section class="product">
    <nav class="breadcrumbs">
      <a href="{% url 'katalog' %}" class="breadcrumbs__link">Каталог</a>
      <span class="breadcrumbs__arrow"></span>
      <a href="{%url 'category' product.category.slug %}" class="breadcrumbs__link">{{product.category}}</a>
      <span class="breadcrumbs__arrow_active"></span>
      <a href="" class="breadcrumbs__link breadcrumbs__link_active">{{product.title}}</a>
    </nav>
    <div class="product__container">
      <div class="product__slider-container itcss">
        <div class="product__slider itcss__wrapper">
          <button class="slider__control slider__control_prev" href="#" role="button" data-slide="prev"></button>
          <ul class="product__slider-list itcss__items">
            <li class="product__slider-item itcss__item"><img class="product__image" src={{product.photo.url}}> <!--картинка--></li>
            <li class="product__slider-item itcss__item"><img class="product__image" src={{product.photo.url}}> <!--картинка--></li>
            <li class="product__slider-item itcss__item"><img class="product__image" src={{product.photo.url}}> <!--картинка--></li>
          </ul>
          <button class="slider__control slider__control_next" href="#" role="button" data-slide="next"></button>
        </div>
      </div>
      <div class="product__info">
        <h1 class="product__title">{{product.title}}</h1><!--название товара-->
        <div class="product__description">
          <p class="product__text product__weight">{{product.weight}}</p><!--вес-->
          <p class="product__text product__date">Срок годности - {{product.expiration_date}}</p><!--срок годности-->
          <p class="product__text product__package">
            <!--Упаковка {{product.packaging}}-->
            <!--{% if exists %} если существуют фото упаковки 
            {% for i in images %} -этот блок для карусели
            <img class="product__image" src={{i.image.url}}> - каждое фото упаковки по отдельности 
            сюда наверное нужно перенести ссылку на фото продукта
            {% endfor %}
            {% else % }
            Этот блок для случая отстутствия фото упаковки, здесь только ссылка на картинку продукта
             {% endif %}-->
          </p><!--вид упаковки-->
          <p class="product__text product__quantity">Количество вложения - {{product.quantity_a}}</p><!--количество вложения-->
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock content %}
{% block script %}
<script type="module" src="{%static './scripts/index.js' %}"></script>
<script src="{% static 'scripts/simple-adaptive-slider.min.js' %}"></script>
<script>
  const sliderContainer = document.querySelector('.product__slider-container');

  document.addEventListener('DOMContentLoaded', () => {
    // инициализация слайдера
    const slider = new ItcSimpleSlider('.itcss', {
      loop: true,
      autoplay: false,
      interval: 5000,
      swipe: true,
    });

    sliderContainer.querySelector('.slider__control_prev').addEventListener('click', () => slider.prev());
    sliderContainer.querySelector('.slider__control_next').addEventListener('click', () => slider.next());

  });

</script>
{% endblock script %}
